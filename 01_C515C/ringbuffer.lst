C51 COMPILER V9.02   RINGBUFFER                                                            11/03/2010 13:29:56 PAGE 1   


C51 COMPILER V9.02, COMPILATION OF MODULE RINGBUFFER
OBJECT MODULE PLACED IN ringbuffer.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE src\common\ringbuffer.c BROWSE DEBUG OBJECTEXTEND PRINT(.\ringbuffer.lst) O
                    -BJECT(ringbuffer.obj)

line level    source

   1          #include "ringbuffer.h"
*** ERROR C141 IN LINE 6 OF SRC\COMMON\RINGBUFFER.H: syntax error near '['
*** ERROR C129 IN LINE 9 OF SRC\COMMON\RINGBUFFER.H: missing ';' before 'uint8_t'
   2          
   3          void ringbuffer_init(RINGBUFFER_T *buffer) {
   4                  buffer->read_position = 0;
   5                  buffer->write_position = 0;
   6                  buffer->size = 0;
   7          }
   8          
   9          uint8_t ringbuffer_read(RINGBUFFER_T *buffer) {
  10                  uint8_t interrupt_state = IE, retval;
  11          
  12                  if(buffer->size > 0) {
  13                  retval = buffer->data[buffer->read_position];
  14                  buffer->size--;
  15                  buffer->read_position++;
  16                  }
  17          
  18              IE = interrupt_state;
  19          
  20              return retval;
  21          }
  22          
  23          uint8_t ringbuffer_write(RINGBUFFER_T *buffer) {
  24                  uint8_t interrupt_state = IE;
  25          
  26                  if(buffer->size > 0) {
  27                  retval = buffer->data[buffer->read_position];
  28                  buffer->size--;
  29                  buffer->read_position++;
  30                  }
  31          
  32              IE = interrupt_state;
  33          
  34              return retval;
  35          }

C51 COMPILATION COMPLETE.  0 WARNING(S),  2 ERROR(S)
